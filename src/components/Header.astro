---
import companyLogo from "../assets/logo/companyLogo.svg?raw";
import hamburgerMenu from "../assets/navbar/hambugerMenu.svg?raw";
import phoneIcon from "../assets/navbar/phoneIcon.svg?raw";

import { firm } from "../config/firm";
import { nav } from "../config/nav";
import Brand from "./header/Brand.astro";
import DesktopNav from "./header/DesktopNav.astro";
import Navbar from "./header/Navbar.astro";
import PhoneNumber from "./header/PhoneNumber.astro";
import MobileMenuButton from "./header/MobileMenuButton.astro";
import MobileMenuDialog from "./header/MobileMenuDialog.astro";
import MobileMenuNav from "./header/MobileMenuNav.astro";

const { companyName, county, phoneDisplay, phoneHref } = firm;
---

<header
  class="sticky top-0 inset-x-0 z-50 bg-header text-textOnDark border-b border-headerBorder shadow-lg"
  data-header
>
  <Navbar>
    <Brand
      companyLogo={companyLogo}
      companyName={companyName}
      county={county}
    />

    <!-- Open Menu -->
    <MobileMenuButton
      icon={hamburgerMenu}
      border={true}
      srLabel={"Open Mobile Menu"}
      action={"open"}
    />

    <DesktopNav links={nav} />

    <div class="hidden flex-1 justify-end lg:flex">
      <PhoneNumber
        phoneHref={phoneHref}
        phoneIcon={phoneIcon}
        phoneDisplay={phoneDisplay}
        hiddenOnSmallScreen={true}
        size={"sm"}
      />
    </div>

    <!-- Mobile Menu -->
    <MobileMenuDialog companyLogo={companyLogo}>
      <div class="-my-6 divide-y divide-headerBorder">
        <MobileMenuNav links={nav} />

        <div
          class=" p-3 mt-3 -mx-3 block rounded-lg hover:bg-accentHover lg:hidden"
        >
          <PhoneNumber
            phoneHref={phoneHref}
            phoneIcon={phoneIcon}
            phoneDisplay={phoneDisplay}
            hiddenOnSmallScreen={false}
            size={"md"}
          />
        </div>
      </div>
    </MobileMenuDialog>
  </Navbar>
</header>

<!-- overflow-hidden - Add to the container for the light effects -->

<script>
  import "../scripts/header-menu.ts";
</script>
